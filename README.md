┌─────────────────────────────────────────────────────────────────┐
│                        NESTFINDER APP                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│    ┌─────────────────┐          ┌─────────────────┐            │
│    │   PRESENTATION  │          │     WIDGETS     │            │
│    │     LAYER       │          │                 │            │
│    │                 │          │ • PropertyCard  │            │
│    │ • Screens       │◄────────►│ • CustomButton  │            │
│    │ • Pages         │          │ • InputField    │            │
│    └────────┬────────┘          └─────────────────┘            │
│             │                                                   │
│             ▼                                                   │
│    ┌─────────────────┐                                         │
│    │     STATE       │                                         │
│    │   MANAGEMENT    │                                         │
│    │                 │                                         │
│    │ • LoginProvider │                                         │
│    │ • OwnerProvider │                                         │
│    │ • UserProvider  │                                         │
│    │ • BookingProv   │                                         │
│    └────────┬────────┘                                         │
│             │                                                   │
│             ▼                                                   │
│    ┌─────────────────┐          ┌─────────────────┐            │
│    │     MODELS      │          │    SERVICES     │            │
│    │                 │          │                 │            │
│    │ • UserModel     │◄────────►│ • Firebase      │            │
│    │ • OwnerModel    │          │ • Supabase      │            │
│    │ • BookingModel  │          │ • Hive          │            │
│    └─────────────────┘          └─────────────────┘            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

                              ┌─────────────┐
                              │   APP START │
                              └──────┬──────┘
                                     │
                                     ▼
                              ┌─────────────┐
                              │   SPLASH    │
                              │   SCREEN    │
                              └──────┬──────┘
                                     │
                                     ▼
                         ┌───────────────────────┐
                         │   CHECK AUTH TOKEN    │
                         └───────────┬───────────┘
                                     │
                    ┌────────────────┴────────────────┐
                    │                                 │
                    ▼                                 ▼
            ┌───────────────┐                ┌───────────────┐
            │  NO TOKEN     │                │  HAS TOKEN    │
            │  (New User)   │                │  (Logged In)  │
            └───────┬───────┘                └───────┬───────┘
                    │                                 │
                    ▼                                 ▼
            ┌───────────────┐                ┌───────────────┐
            │    LOGIN      │                │  CHECK ROLE   │
            │    SCREEN     │                └───────┬───────┘
            └───────┬───────┘                        │
                    │                    ┌───────────┴───────────┐
                    ▼                    │                       │
            ┌───────────────┐            ▼                       ▼
            │   SIGN UP?    │    ┌───────────────┐      ┌───────────────┐
            └───────┬───────┘    │  ROLE: USER  │      │  ROLE: OWNER  │
                    │            └───────┬───────┘      └───────┬───────┘
                    ▼                    │                       │
            ┌───────────────┐            ▼                       ▼
            │    TELLUS     │    ┌───────────────┐      ┌───────────────┐
            │ (Role Select) │    │   USER HOME   │      │  OWNER HOME   │
            └───────┬───────┘    └───────────────┘      └───────────────┘
                    │
        ┌───────────┴───────────┐
        │                       │
        ▼                       ▼
┌───────────────┐      ┌───────────────┐
│ SELECT: USER  │      │ SELECT: OWNER │
└───────┬───────┘      └───────┬───────┘
        │                       │
        ▼                       ▼
┌───────────────┐      ┌───────────────┐
│   USER HOME   │      │  OWNER HOME   │
└───────────────┘      └───────────────┘


┌─────────────────────────────────────────────────────────────────┐
│                       OWNER HOME                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│    ┌──────────────┐    ┌──────────────┐    ┌──────────────┐    │
│    │  DASHBOARD   │    │     ADD      │    │    PANEL     │    │
│    │              │    │   PROPERTY   │    │              │    │
│    └──────┬───────┘    └──────┬───────┘    └──────┬───────┘    │
│           │                   │                   │             │
└───────────┼───────────────────┼───────────────────┼─────────────┘
            │                   │                   │
            ▼                   ▼                   ▼
     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
     │  Property   │     │ • Title     │     │   Manage    │
     │  Statistics │     │ • Desc      │     │  Bookings   │
     │             │     │ • Price     │     │             │
     │ • Total     │     │ • City      │     │ • View All  │
     │ • Booked    │     │ • Images    │     │ • Confirm   │
     │ • Available │     │ • Features  │     │ • Cancel    │
     └─────────────┘     └──────┬──────┘     └─────────────┘
                                │
                                ▼
                        ┌───────────────┐
                        │    UPLOAD     │
                        │    IMAGES     │
                        │  (Supabase)   │
                        └───────┬───────┘
                                │
                                ▼
                        ┌───────────────┐
                        │     SAVE      │
                        │   PROPERTY    │
                        │  (Firestore)  │
                        └───────────────┘



                        ┌─────────────────────────────────────────────────────────────────┐
│                       BOOKING FLOW                              │
└─────────────────────────────────────────────────────────────────┘

User                        System                         Owner
  │                           │                              │
  │  1. Select Property       │                              │
  │ ─────────────────────────►│                              │
  │                           │                              │
  │  2. View Details          │                              │
  │ ◄─────────────────────────│                              │
  │                           │                              │
  │  3. Select Dates          │                              │
  │ ─────────────────────────►│                              │
  │                           │                              │
  │  4. Check Availability    │                              │
  │ ◄─────────────────────────│                              │
  │    (Booked dates disabled)│                              │
  │                           │                              │
  │  5. Tap "Book Now"        │                              │
  │ ─────────────────────────►│                              │
  │                           │                              │
  │                           │  6. Create Booking           │
  │                           │     (Status: Pending)        │
  │                           │ ─────────────────────────────►
  │                           │                              │
  │                           │  7. Update Property          │
  │                           │     (Add booked dates)       │
  │                           │                              │
  │  8. Booking Confirmed     │                              │
  │ ◄─────────────────────────│                              │
  │                           │                              │
  │                           │  9. Notify Owner             │
  │                           │ ─────────────────────────────►
  │                           │                              │
  │                           │                              │
  │                           │  10. Owner Reviews           │
  │                           │ ◄─────────────────────────────
  │                           │                              │
  │                           │  11. Update Status           │
  │                           │     (Confirmed/Cancelled)    │
  │                           │                              │
  │  12. Status Updated       │                              │
  │ ◄─────────────────────────│                              │
  │                           │                              │
